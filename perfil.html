<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Perfil - Accessibility Things</title>
    <meta name="description" content="Gestiona tu cuenta, perfil y productos. Registra o inicia sesi√≥n para acceder a todas las funcionalidades">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/accessibility.css">
</head>
<body>
    <!-- Enlaces de omisi√≥n -->
    <a href="#main-content" class="skip-link">Saltar al contenido principal</a>
    <a href="#nav-main" class="skip-link">Saltar a navegaci√≥n</a>
    <a href="#login-form" class="skip-link">Saltar a inicio de sesi√≥n</a>
    <a href="#register-form" class="skip-link">Saltar a registro</a>
    
    <!-- Encabezado de p√°gina -->
    <header role="banner">
        <div class="header-container">
            <div class="logo">
                <h1>
                    <a href="index.html" aria-label="Accessibility Things - P√°gina de inicio">
                        Accessibility Things
                    </a>
                </h1>
                <p class="tagline">Productos de accesibilidad para una vida independiente</p>
            </div>
            
            <!-- Controles de accesibilidad -->
            <div class="accessibility-controls" role="region" aria-label="Controles de accesibilidad">
                <button type="button" id="high-contrast-toggle" aria-pressed="false" class="accessibility-btn">
                    <span class="sr-only">Activar</span>
                    <span aria-hidden="true">üåì</span>
                    Alto contraste
                </button>
                <button type="button" id="font-size-toggle" aria-pressed="false" class="accessibility-btn">
                    <span class="sr-only">Aumentar</span>
                    <span aria-hidden="true">üîç</span>
                    Tama√±o de texto
                </button>
            </div>
        </div>
    </header>
    
    <!-- Navegaci√≥n principal -->
    <nav id="nav-main" role="navigation" aria-label="Navegaci√≥n principal">
        <ul role="menubar" class="nav-menu">
            <li role="none">
                <a href="index.html" role="menuitem" class="nav-link">
                    <span aria-hidden="true">üè†</span>
                    Inicio
                </a>
            </li>
            <li role="none">
                <a href="catalogo.html" role="menuitem" class="nav-link">
                    <span aria-hidden="true">üõçÔ∏è</span>
                    Cat√°logo
                </a>
            </li>
            <li role="none">
                <a href="carrito.html" role="menuitem" class="nav-link">
                    <span aria-hidden="true">üõí</span>
                    Carrito
                    <span id="cart-count" class="cart-badge" aria-label="productos en el carrito">0</span>
                </a>
            </li>
            <li role="none">
                <a href="perfil.html" role="menuitem" aria-current="page" class="nav-link active">
                    <span aria-hidden="true">üë§</span>
                    Mi Perfil
                </a>
            </li>
        </ul>
    </nav>
    
    <!-- Breadcrumbs -->
    <nav aria-label="Ruta de navegaci√≥n" class="breadcrumb">
        <ol>
            <li><a href="index.html">Inicio</a></li>
            <li aria-current="page">Mi Perfil</li>
        </ol>
    </nav>
    
    <!-- Contenido principal -->
    <main id="main-content" role="main">
        
        <!-- Secci√≥n de autenticaci√≥n (visible cuando no hay sesi√≥n) -->
        <section id="auth-section" class="auth-section">
            <div class="auth-header">
                <h2>Acceso a tu Cuenta</h2>
                <p>Inicia sesi√≥n o registra una nueva cuenta para acceder a todas las funcionalidades.</p>
            </div>
            
            <div class="auth-layout">
                <!-- Formulario de inicio de sesi√≥n -->
                <section id="login-form" class="auth-form" aria-labelledby="login-title">
                    <h3 id="login-title">Iniciar Sesi√≥n</h3>
                    
                    <form class="login-form" method="POST" aria-label="Formulario de inicio de sesi√≥n">
                        <fieldset>
                            <legend class="sr-only">Credenciales de acceso</legend>
                            
                            <div class="form-group">
                                <label for="login-email">Correo electr√≥nico *</label>
                                <input type="email" 
                                       id="login-email" 
                                       name="email" 
                                       required
                                       aria-describedby="login-email-help login-email-error"
                                       autocomplete="email"
                                       aria-invalid="false">
                                <div id="login-email-help" class="help-text">
                                    Ingresa el correo con el que te registraste
                                </div>
                                <div id="login-email-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>
                            
                            <div class="form-group">
                                <label for="login-password">Contrase√±a *</label>
                                <input type="password" 
                                       id="login-password" 
                                       name="password" 
                                       required
                                       aria-describedby="login-password-help login-password-error"
                                       autocomplete="current-password"
                                       aria-invalid="false">
                                <div id="login-password-help" class="help-text">
                                    Ingresa tu contrase√±a
                                </div>
                                <div id="login-password-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>
                            
                            <div class="form-group">
                                <input type="checkbox" 
                                       id="remember-me" 
                                       name="remember_me"
                                       aria-describedby="remember-help">
                                <label for="remember-me">Recordarme</label>
                                <div id="remember-help" class="help-text">
                                    Mantener sesi√≥n iniciada en este navegador
                                </div>
                            </div>
                        </fieldset>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <span aria-hidden="true">üîë</span>
                                Iniciar Sesi√≥n
                            </button>
                        </div>
                        
                        <div class="form-links">
                            <a href="#" aria-describedby="forgot-password-desc">
                                ¬øOlvidaste tu contrase√±a?
                            </a>
                            <span id="forgot-password-desc" class="sr-only">
                                Enlace para recuperar contrase√±a
                            </span>
                        </div>
                    </form>
                </section>
                
                <!-- Formulario de registro -->
                <section id="register-form" class="auth-form" aria-labelledby="register-title">
                    <h3 id="register-title">Crear Nueva Cuenta</h3>
                    
                    <form class="register-form" method="POST" aria-label="Formulario de registro">
                        <fieldset>
                            <legend>Informaci√≥n Personal</legend>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="register-nombre">Nombre *</label>
                                    <input type="text" 
                                           id="register-nombre" 
                                           name="nombre" 
                                           required
                                           aria-describedby="register-nombre-help register-nombre-error"
                                           autocomplete="given-name"
                                           aria-invalid="false">
                                    <div id="register-nombre-help" class="help-text">
                                        Tu nombre personal
                                    </div>
                                    <div id="register-nombre-error" class="error-message" role="alert" aria-live="polite"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="register-apellido">Apellido *</label>
                                    <input type="text" 
                                           id="register-apellido" 
                                           name="apellido" 
                                           required
                                           aria-describedby="register-apellido-help register-apellido-error"
                                           autocomplete="family-name"
                                           aria-invalid="false">
                                    <div id="register-apellido-help" class="help-text">
                                        Tu apellido
                                    </div>
                                    <div id="register-apellido-error" class="error-message" role="alert" aria-live="polite"></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="register-email">Correo electr√≥nico *</label>
                                <input type="email" 
                                       id="register-email" 
                                       name="email" 
                                       required
                                       aria-describedby="register-email-help register-email-error"
                                       autocomplete="email"
                                       aria-invalid="false">
                                <div id="register-email-help" class="help-text">
                                    Ser√° tu nombre de usuario para iniciar sesi√≥n
                                </div>
                                <div id="register-email-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>
                            
                            <div class="form-group">
                                <label for="register-password">Contrase√±a *</label>
                                <input type="password" 
                                       id="register-password" 
                                       name="password" 
                                       required
                                       aria-describedby="register-password-help register-password-error"
                                       autocomplete="new-password"
                                       aria-invalid="false">
                                <div id="register-password-help" class="help-text">
                                    M√≠nimo 8 caracteres con al menos una may√∫scula, una min√∫scula y un n√∫mero
                                </div>
                                <div id="register-password-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>
                            
                            <div class="form-group">
                                <label for="register-password-confirm">Confirmar Contrase√±a *</label>
                                <input type="password" 
                                       id="register-password-confirm" 
                                       name="password_confirm" 
                                       required
                                       aria-describedby="register-password-confirm-help register-password-confirm-error"
                                       autocomplete="new-password"
                                       aria-invalid="false">
                                <div id="register-password-confirm-help" class="help-text">
                                    Repite la contrase√±a para confirmar
                                </div>
                                <div id="register-password-confirm-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>
                        </fieldset>
                        
                        <fieldset>
                            <legend>Tipo de Usuario</legend>
                            
                            <div class="user-type-options">
                                <div class="user-type-option">
                                    <input type="radio" 
                                           id="user-type-buyer" 
                                           name="user_type" 
                                           value="buyer" 
                                           checked
                                           aria-describedby="user-type-buyer-desc">
                                    <label for="user-type-buyer">
                                        Comprador
                                    </label>
                                    <div id="user-type-buyer-desc" class="help-text">
                                        Para comprar productos de accesibilidad
                                    </div>
                                </div>
                                
                                <div class="user-type-option">
                                    <input type="radio" 
                                           id="user-type-seller" 
                                           name="user_type" 
                                           value="seller"
                                           aria-describedby="user-type-seller-desc">
                                    <label for="user-type-seller">
                                        Vendedor
                                    </label>
                                    <div id="user-type-seller-desc" class="help-text">
                                        Para vender productos y gestionar inventario
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        
                        <fieldset>
                            <legend>T√©rminos y Condiciones</legend>
                            
                            <div class="form-group">
                                <input type="checkbox" 
                                       id="terms-conditions" 
                                       name="terms_conditions" 
                                       required
                                       aria-describedby="terms-help">
                                <label for="terms-conditions">
                                    Acepto los t√©rminos y condiciones *
                                </label>
                                <div id="terms-help" class="help-text">
                                    <a href="#" target="_blank" rel="noopener">Leer t√©rminos y condiciones</a>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <input type="checkbox" 
                                       id="privacy-policy" 
                                       name="privacy_policy" 
                                       required
                                       aria-describedby="privacy-help">
                                <label for="privacy-policy">
                                    Acepto la pol√≠tica de privacidad *
                                </label>
                                <div id="privacy-help" class="help-text">
                                    <a href="#" target="_blank" rel="noopener">Leer pol√≠tica de privacidad</a>
                                </div>
                            </div>
                        </fieldset>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <span aria-hidden="true">‚ú®</span>
                                Crear Cuenta
                            </button>
                        </div>
                    </form>
                </section>
            </div>
        </section>
        
        <!-- Secci√≥n de perfil (visible cuando hay sesi√≥n activa) -->
        <section id="profile-section" class="profile-section" style="display: none;">
            <div class="profile-header">
                <h2>Mi Perfil</h2>
                <div class="user-info">
                    <span id="user-name" class="user-name"></span>
                    <span id="user-type" class="user-type"></span>
                </div>
            </div>
            
            <!-- Navegaci√≥n del perfil -->
            <nav class="profile-nav" aria-label="Navegaci√≥n del perfil">
                <ul role="tablist" class="profile-tabs">
                    <li role="none">
                        <button role="tab" 
                                id="tab-account" 
                                aria-selected="true" 
                                aria-controls="panel-account"
                                class="profile-tab active">
                            <span aria-hidden="true">üë§</span>
                            Mi Cuenta
                        </button>
                    </li>
                    <li role="none">
                        <button role="tab" 
                                id="tab-orders" 
                                aria-selected="false" 
                                aria-controls="panel-orders"
                                class="profile-tab">
                            <span aria-hidden="true">üì¶</span>
                            Mis Pedidos
                        </button>
                    </li>
                    <li role="none">
                        <button role="tab" 
                                id="tab-products" 
                                aria-selected="false" 
                                aria-controls="panel-products"
                                class="profile-tab seller-only">
                            <span aria-hidden="true">üõçÔ∏è</span>
                            Mis Productos
                        </button>
                    </li>
                </ul>
            </nav>
            
            <!-- Panel de Mi Cuenta -->
            <div role="tabpanel" 
                 id="panel-account" 
                 aria-labelledby="tab-account" 
                 class="profile-panel active">
                <h3>Informaci√≥n de la Cuenta</h3>
                
                <form class="account-form" aria-label="Formulario de actualizaci√≥n de cuenta">
                    <fieldset>
                        <legend>Informaci√≥n Personal</legend>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="account-nombre">Nombre *</label>
                                <input type="text" 
                                       id="account-nombre" 
                                       name="nombre" 
                                       required
                                       aria-describedby="account-nombre-help"
                                       aria-invalid="false">
                                <div id="account-nombre-help" class="help-text">
                                    Tu nombre personal
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="account-apellido">Apellido *</label>
                                <input type="text" 
                                       id="account-apellido" 
                                       name="apellido" 
                                       required
                                       aria-describedby="account-apellido-help"
                                       aria-invalid="false">
                                <div id="account-apellido-help" class="help-text">
                                    Tu apellido
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="account-email">Correo electr√≥nico *</label>
                            <input type="email" 
                                   id="account-email" 
                                   name="email" 
                                   required
                                   aria-describedby="account-email-help"
                                   aria-invalid="false">
                            <div id="account-email-help" class="help-text">
                                Tu correo electr√≥nico de contacto
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="account-telefono">Tel√©fono</label>
                            <input type="tel" 
                                   id="account-telefono" 
                                   name="telefono" 
                                   aria-describedby="account-telefono-help"
                                   aria-invalid="false">
                            <div id="account-telefono-help" class="help-text">
                                N√∫mero de tel√©fono para contacto
                            </div>
                        </div>
                    </fieldset>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <span aria-hidden="true">üíæ</span>
                            Guardar Cambios
                        </button>
                        <button type="button" class="btn btn-secondary" id="logout-btn">
                            <span aria-hidden="true">üö™</span>
                            Cerrar Sesi√≥n
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Panel de Pedidos -->
            <div role="tabpanel" 
                 id="panel-orders" 
                 aria-labelledby="tab-orders" 
                 class="profile-panel"
                 style="display: none;">
                <h3>Mis Pedidos</h3>
                
                <div id="orders-list" class="orders-list">
                    <div class="empty-state">
                        <p>No tienes pedidos a√∫n.</p>
                        <a href="catalogo.html" class="btn btn-primary">Explorar productos</a>
                    </div>
                </div>
            </div>
            
            <!-- Panel de Productos (Solo para vendedores) -->
            <div role="tabpanel" 
                 id="panel-products" 
                 aria-labelledby="tab-products" 
                 class="profile-panel seller-only"
                 style="display: none;">
                <div class="products-panel-header">
                    <h3>Gesti√≥n de Productos</h3>
                    <button type="button" class="btn btn-primary" id="add-product-btn">
                        <span aria-hidden="true">‚ûï</span>
                        Agregar Producto
                    </button>
                </div>
                
                <!-- Formulario para agregar/editar producto -->
                <section id="product-form" class="product-form" style="display: none;" aria-labelledby="product-form-title">
                    <h4 id="product-form-title">Agregar Nuevo Producto</h4>
                    
                    <form class="product-form-content" aria-label="Formulario de producto">
                        <fieldset>
                            <legend>Informaci√≥n B√°sica</legend>
                            
                            <div class="form-group">
                                <label for="product-name">Nombre del producto *</label>
                                <input type="text" 
                                       id="product-name" 
                                       name="name" 
                                       required
                                       aria-describedby="product-name-help product-name-error"
                                       aria-invalid="false">
                                <div id="product-name-help" class="help-text">
                                    Nombre descriptivo del producto
                                </div>
                                <div id="product-name-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>
                            
                            <div class="form-group">
                                <label for="product-description">Descripci√≥n *</label>
                                <textarea id="product-description" 
                                          name="description" 
                                          required
                                          rows="4"
                                          aria-describedby="product-description-help product-description-error"
                                          aria-invalid="false"></textarea>
                                <div id="product-description-help" class="help-text">
                                    Descripci√≥n detallada del producto y sus caracter√≠sticas
                                </div>
                                <div id="product-description-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="product-price">Precio *</label>
                                    <input type="number" 
                                           id="product-price" 
                                           name="price" 
                                           required
                                           min="0"
                                           step="0.01"
                                           aria-describedby="product-price-help product-price-error"
                                           aria-invalid="false">
                                    <div id="product-price-help" class="help-text">
                                        Precio en colones costarricenses
                                    </div>
                                    <div id="product-price-error" class="error-message" role="alert" aria-live="polite"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="product-category">Categor√≠a *</label>
                                    <select id="product-category" 
                                            name="category" 
                                            required
                                            aria-describedby="product-category-help"
                                            aria-invalid="false">
                                        <option value="">Selecciona una categor√≠a</option>
                                        <option value="movilidad">Movilidad</option>
                                        <option value="visual">Discapacidad Visual</option>
                                        <option value="auditiva">Discapacidad Auditiva</option>
                                        <option value="cognitiva">Discapacidad Cognitiva</option>
                                        <option value="embarazo">Embarazo y Maternidad</option>
                                    </select>
                                    <div id="product-category-help" class="help-text">
                                        Categor√≠a principal del producto
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        
                        <fieldset>
                            <legend>Imagen del Producto</legend>
                            
                            <div class="form-group">
                                <label for="product-image">Imagen del producto *</label>
                                <input type="file" 
                                       id="product-image" 
                                       name="image" 
                                       accept="image/*"
                                       required
                                       aria-describedby="product-image-help product-image-error"
                                       aria-invalid="false">
                                <div id="product-image-help" class="help-text">
                                    Formatos permitidos: JPG, PNG, GIF (m√°ximo 2MB)
                                </div>
                                <div id="product-image-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>
                            
                            <div class="form-group">
                                <label for="product-alt-text">Texto alternativo de la imagen *</label>
                                <textarea id="product-alt-text" 
                                          name="alt_text" 
                                          required
                                          rows="2"
                                          aria-describedby="product-alt-text-help product-alt-text-error"
                                          aria-invalid="false"></textarea>
                                <div id="product-alt-text-help" class="help-text">
                                    Descripci√≥n detallada de la imagen para usuarios con discapacidad visual
                                </div>
                                <div id="product-alt-text-error" class="error-message" role="alert" aria-live="polite"></div>
                            </div>
                        </fieldset>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">
                                <span aria-hidden="true">üíæ</span>
                                Guardar Producto
                            </button>
                            <button type="button" class="btn btn-secondary" id="cancel-product-btn">
                                <span aria-hidden="true">‚ùå</span>
                                Cancelar
                            </button>
                        </div>
                    </form>
                </section>
                
                <!-- Lista de productos del vendedor -->
                <section class="seller-products" aria-labelledby="seller-products-title">
                    <h4 id="seller-products-title">Mis Productos</h4>
                    
                    <div id="seller-products-list" class="seller-products-list">
                        <div class="empty-state">
                            <p>No tienes productos registrados a√∫n.</p>
                            <p>Agrega tu primer producto para empezar a vender.</p>
                        </div>
                    </div>
                </section>
            </div>
        </section>
    </main>
    
    <!-- Pie de p√°gina -->
    <footer role="contentinfo">
        <div class="footer-content">
            <section class="footer-section">
                <h4>Accessibility Things</h4>
                <p>
                    Comprometidos con la inclusi√≥n y la accesibilidad en Costa Rica, 
                    cumpliendo con la Ley 7600.
                </p>
            </section>
            
            <section class="footer-section">
                <h4>Enlaces √ötiles</h4>
                <ul>
                    <li><a href="catalogo.html">Cat√°logo</a></li>
                    <li><a href="perfil.html" aria-current="page">Mi Cuenta</a></li>
                    <li><a href="carrito.html">Carrito</a></li>
                    <li><a href="#" aria-describedby="ayuda-desc">Ayuda</a></li>
                </ul>
                <span id="ayuda-desc" class="sr-only">
                    P√°gina de ayuda y preguntas frecuentes
                </span>
            </section>
            
            <section class="footer-section">
                <h4>Contacto</h4>
                <address>
                    <p>
                        Email: <a href="mailto:info@accessibilitythings.cr">info@accessibilitythings.cr</a>
                    </p>
                    <p>
                        Tel√©fono: <a href="tel:+50622334455">+506 2233-4455</a>
                    </p>
                </address>
            </section>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 Accessibility Things. Todos los derechos reservados.</p>
            <p>
                <a href="#">T√©rminos de Uso</a> | 
                <a href="#">Pol√≠tica de Privacidad</a> | 
                <a href="#">Accesibilidad</a>
            </p>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script src="js/data-manager.js"></script>
    <script src="js/ui-controller.js"></script>
    <script src="js/main.js"></script>
    <script src="js/accessibility.js"></script>
</body>
</html> 